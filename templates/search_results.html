{% extends 'base.html' %}

{% block title %}{{ place }}{% endblock %}


{% block body %}
  <h1>Places to Visit in {{ place }}</h1>
  <ul>
    {% for item in poi_details %}
      <li id={{ item.xid }}>
        <h2>{{ item.name }}</h2>
        <img src="{{ item.image }}">
        <p>{{ item.extract }}</p>
        <a href="{{ item.wikipedia }}">
          More information available here.
        </a>
        <p>Look interesting?</p>
        <button type="button"
                class="btn btn-primary"
                data-toggle="collapse"
                data-target="#add-form"
                id="add-{{ item.name }}">Add to Trip</button>

          <div class="container">
            <div class="collapse" id="add-form">
              <form action="/api/new-entry" method="POST" id="entry-form">
                <div class="form-group mx-sm-3 mb-2">
                  <div class="form-group row">
                    <label for="select-itinerary">Itinerary</label>
                    <select class="custom-select mr-sm-2"
                            id="select-itinerary"
                            name="itinerary-id">
                      <option selected>Choose...</option>
                      {% for item in itineraries %}
                        <option name="itinerary-id" 
                                id="itinerary-id"
                                value={{ item.id }}>{{ item.name }}</option>
                      {% endfor %}
                    </select>
                  </div>
                  <div class="form-group row">
                    <label for="new-name">Name: </label>
                    <input  type="text"
                            class="form-control"
                            name="new-name"
                            value="{{ item.name }}"
                            required>
                  </div>
                  <div class="form-group row">
                    <label for="new-location">Address: </label>
                    <input  type="text"
                            class="form-control"
                            name="new-location">
                  </div>
                  <div class="form-group row">
                    <label for="new-url">Website: </label>
                    <input type="url"
                            class="form-control"
                            name="new-url"
                            value="{{ item.wikipedia }}">
                  </div>
                  <div class="form-group row">
                    <label for="description">Description: </label>
                    <textarea class="form-control"
                              name="description">{{ item.extract }}</textarea>
                  </div>
                  <div class="form-group row">
                    <label for="image-url">Link to Photo: </label>
                    <input  type="url"
                            class="form-control"
                            name="image-url"
                            value="{{ item.image }}">
                  </div>
                  <div class="form-group row">
                    <label for="add-comment">Additional comments: </label>
                    <textarea class="form-control"
                              name="add-comment"
                              placehodler="Need tickets? What time does it open?">
                            </textarea>
                  </div>
                  <div class="form-group row">
                    <label for="trip-day">Which day are you thinking about going?</label>
                    <input  type="number"
                            class="form-control"
                            name="trip-day">
                  </div>
                  <button type="submit"
                          class="btn btn-primary"
                          id="submit-entry">Submit</button>
                </div>
              </form>
            </div>
          </div>
      </li>
    {% endfor %}
  </ul>

{% endblock %}